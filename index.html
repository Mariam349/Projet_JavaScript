<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SIMULATEUR | BY MARIAM</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="shortcut icon" href="image/logo/favicon.ico" type="image/x-icon">
</head>
<body>
  <h1>Simulateur de prêt</h1>

  <div class="container">
    <div class="row g-3 align-items-center">
      <div class="col-auto">
        <label for="inputPassword6" class="col-form-label" >Montant :</label>
      </div>
      <div class="col-auto">
        <input  type="number" id="amount" placeholder="Montant du prêt" required onclick="calculateLoan()" class="form-control" aria-describedby="montantdupret">
      </div>
      
    </div>
  
    <div class="row g-3 align-items-center">
      <div class="col-auto">
        <label for="inputPassword6" class="col-form-label" >Interet&nbsp; &nbsp;&nbsp;:</label>
      </div>
      <div class="col-auto">
        <input  type="number" id="interestRate" placeholder="Taux d'intérêt annuel" required onclick="calculateLoan()" class="form-control" aria-describedby="montantdupret">
      </div>
     
    </div>
    <div class="row g-3 align-items-center">
      <div class="col-auto">
        <label for="inputPassword6" class="col-form-label" >Durée&nbsp;&nbsp;&nbsp; &nbsp;:</label>
      </div>
      <div class="col-auto">
        <input  type="number"id="term" placeholder="Durée du prêt en années" required onclick="calculateLoan()" class="form-control" aria-describedby="montantdupret">
      </div>
     
    </div>
    <div class="boutton">
    <button onclick="calculateLoan()" class="btn btn-primary mb-3 align-items-center" >Calculer</button>
  </div>
  </div>

  <h3>Tableau d'amortissement </h3>
  <table id="amortizationTable" class="table table-striped-columns">
   <thead>
    <tr>
      <th scope="col">Période</th>
      <th scope="col">Capital amorti</th>
      <th scope="col">Intérêts</th>
      <th scope="col">Capital restant dû</th>
      <th scope="col">Mensualité</th>
    </tr>
   </thead>
   <tbody>

   </tbody>
   <script>
     function calculateLoan() {
      let amount = parseFloat(document.getElementById('amount').value);
      let interestRate = parseFloat(document.getElementById('interestRate').value) / 100 / 12;
      let term = parseInt(document.getElementById('term').value) * 12;

      let monthlyPayment = (amount * interestRate) / (1 - Math.pow(1 + interestRate, -term));

      let amortizationTable = document.getElementById('amortizationTable');
      amortizationTable.innerHTML = "<tr><th>Période</th><th>Capital amorti</th><th>Intérêts</th><th>Capital restant dû</th><th>Mensualité</th></tr>";

      for (let i = 1; i <= term; i++) {
        let interest = amount * interestRate;
        let principal = monthlyPayment - interest;
        amount = amount - principal;

        amortizationTable.innerHTML += "<tr><td>" + i + "</td><td>" + principal.toFixed(2) + "</td><td>" + interest.toFixed(2) + "</td><td>" + amount.toFixed(2) + "</td><td>" + monthlyPayment.toFixed(2) + "</td></tr>";
      }
     }
   </script>

  </table>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="<KEY>" crossorigin="anonymous"></script>
</body>
</html>
